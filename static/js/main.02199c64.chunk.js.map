{"version":3,"sources":["api/api.ts","components/TodoForm/TodoForm.tsx","components/TodoList/TodoList.tsx","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["loadData","url","fetch","then","response","ok","json","Promise","reject","Error","loadUsers","userId","TodoForm","props","onHandleChange","filteredQuery","selectedQuery","className","htmlFor","type","name","id","placeholder","value","onChange","TodoList","state","handleChange","event","target","setState","getFilteredTodos","todos","query","toLowerCase","filter","todo","title","includes","completed","this","onUsersId","filtredTodos","map","classNames","checked","readOnly","onClick","React","Component","CurrentUser","user","errorMessage","getLoadedData","prevProps","a","e","message","onClearUserId","email","phone","App","selectedUserId","setUsersId","clearUserId","getLoadedTodos","ReactDOM","render","document","getElementById"],"mappings":"mUAEaA,EAAW,SAACC,GACvB,OAAOC,MAAM,GAAD,OAHE,sCAGF,OAAcD,IACvBE,MAAK,SAAAC,GACJ,OAAOA,EAASC,GACZD,EAASE,OACTC,QAAQC,OAAO,IAAIC,MAAM,4BAKtBC,EAAY,SAACC,GAAD,OAAoBX,EAAS,UAAD,OAAWW,K,8CCJnDC,EAA4B,SAACC,GACxC,IAAQC,EAAiDD,EAAjDC,eAAgBC,EAAiCF,EAAjCE,cAAeC,EAAkBH,EAAlBG,cAEvC,OACE,sBAAKC,UAAU,iBAAf,UACE,uBAAOA,UAAU,kBAAkBC,QAAQ,cAA3C,SACE,uBACEC,KAAK,OACLC,KAAK,gBACLC,GAAG,cACHJ,UAAU,eACVK,YAAY,aACZC,MAAOR,EACPS,SAAUV,MAId,uBAAOG,UAAU,kBAAkBC,QAAQ,eAA3C,SACE,yBACEE,KAAK,gBACLC,GAAG,eACHE,MAAOP,EACPC,UAAU,eACVO,SAAUV,EALZ,UAOE,wBAAQS,MAAM,MAAd,iBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,YAAd,gCCpBGE,G,MAAb,4MACEC,MAAe,CACbX,cAAe,GACfC,cAAe,IAHnB,EAMEW,aAAe,SAACC,GACd,MAAwBA,EAAMC,OAAtBT,EAAR,EAAQA,KAAMG,EAAd,EAAcA,MAEd,EAAKO,SAAL,eAAiBV,EAAOG,KAT5B,EAYEQ,iBAAmB,WACjB,IAAQC,EAAU,EAAKnB,MAAfmB,MACFC,EAAQ,EAAKP,MAAMX,cAAcmB,cAEvC,OAAQ,EAAKR,MAAMV,eACjB,IAAK,MACH,OAAOgB,EACJG,QAAO,SAAAC,GAAI,OAAIA,EAAKC,MAAMH,cAAcI,SAASL,MAEtD,IAAK,SACH,OAAOD,EACJG,QAAO,SAAAC,GAAI,OAAKA,EAAKG,WACnBH,EAAKC,MAAMH,cAAcI,SAASL,MAEzC,IAAK,YACH,OAAOD,EACJG,QAAO,SAAAC,GAAI,OAAIA,EAAKG,WAClBH,EAAKC,MAAMH,cAAcI,SAASL,MAEzC,QACE,OAAOD,EACJG,QAAO,SAAAC,GAAI,OAAIA,EAAKC,MAAMH,cAAcI,SAASL,QAjC5D,4CAqCE,WACE,MAAyCO,KAAKd,MAAtCX,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,cACfyB,EAAcD,KAAK3B,MAAnB4B,UACFC,EAAeF,KAAKT,mBAE1B,OACE,sBAAKd,UAAU,WAAf,UACE,wCAEA,cAAC,EAAD,CACEH,eAAgB0B,KAAKb,aACrBZ,cAAeA,EACfC,cAAeA,IAGjB,qBAAKC,UAAU,2BAAf,SACE,oBAAIA,UAAU,iBAAd,SACGyB,EAAaC,KAAI,SAAAP,GAAI,OACpB,qBAEEnB,UAAW2B,IACT,iBACA,CACE,0BAA2BR,EAAKG,UAChC,6BAA8BH,EAAKG,YANzC,UAUE,kCACE,uBACEpB,KAAK,WACL0B,QAAST,EAAKG,UACdO,UAAQ,IAEV,4BAAIV,EAAKC,WAGX,wBACEpB,UAAU,+BACVE,KAAK,SACL4B,QAAS,kBAAMN,EAAUL,EAAKzB,SAHhC,wBAKWyB,EAAKzB,YAvBXyB,EAAKf,kBAxD1B,GAA8B2B,IAAMC,YCDvBC,G,MAAb,4MACExB,MAAe,CACbyB,KAAM,KACNC,aAAc,IAHlB,uDAME,WACEZ,KAAKa,kBAPT,gCAUE,SAAmBC,GACbA,EAAU3C,SAAW6B,KAAK3B,MAAMF,QAClC6B,KAAKa,kBAZX,kEAgBE,gCAAAE,EAAA,sEAEY5C,EAAW6B,KAAK3B,MAAhBF,OAFZ,SAGuBD,EAAUC,GAHjC,OAGUwC,EAHV,OAKIX,KAAKV,UAAS,iBAAO,CAAEqB,OAAMC,aAAc,OAL/C,gDAOUI,EAPV,KASIhB,KAAKV,SAAS,CAAEsB,aAAcI,EAAEC,UATpC,yDAhBF,0EA6BE,WACE,MAA+BjB,KAAKd,MAA5ByB,EAAR,EAAQA,KAAMC,EAAd,EAAcA,aACNM,EAAkBlB,KAAK3B,MAAvB6C,cAER,OAAKP,EASH,mCACIC,GACA,sBAAKnC,UAAU,cAAf,UACE,oBAAIA,UAAU,qBAAd,SACE,wDAAyBkC,EAAK9B,QAGhC,oBAAIJ,UAAU,oBAAd,SAAmCkC,EAAK/B,OACxC,mBAAGH,UAAU,qBAAb,SAAmCkC,EAAKQ,QACxC,mBAAG1C,UAAU,qBAAb,SAAmCkC,EAAKS,QACxC,wBACEzC,KAAK,SACLF,UAAU,yCACV8B,QAAS,kBAAMW,KAHjB,wBAjBJ,8BACGN,QApCX,GAAiCJ,IAAMC,YCDjCY,E,4MACJnC,MAAe,CACboC,eAAgB,EAChB9B,MAAO,GACPoB,aAAc,I,EAmBhBW,WAAa,SAACpD,GACZ,EAAKmB,UAAS,iBAAO,CAAEgC,eAAgBnD,O,EAGzCqD,YAAc,WACZ,EAAKlC,SAAS,CAAEgC,eAAgB,K,uDArBlC,WACEtB,KAAKyB,mB,mEAGP,8BAAAV,EAAA,+EJb6BvD,EAAS,UIatC,OAEUgC,EAFV,OAIIQ,KAAKV,SAAS,CAAEE,QAAOoB,aAAc,KAJzC,gDAMUI,EANV,KAQIhB,KAAKV,SAAS,CAAEsB,aAAcI,EAAEC,UARpC,yD,0EAoBA,WACE,MAAgDjB,KAAKd,MAA7CoC,EAAR,EAAQA,eAAgB9B,EAAxB,EAAwBA,MAAOoB,EAA/B,EAA+BA,aAE/B,OACE,sBAAKnC,UAAU,MAAf,UACE,qBAAKA,UAAU,eAAf,SACImC,GACA,cAAC,EAAD,CACEpB,MAAOA,EACPS,UAAWD,KAAKuB,eAKtB,qBAAK9C,UAAU,eAAf,SACE,qBAAKA,UAAU,yBAAf,SACG6C,EACC,cAAC,EAAD,CACEnD,OAAQmD,EACRJ,cAAelB,KAAKwB,cAEpB,8B,GApDEhB,IAAMC,WA4DTY,ICtEfK,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.02199c64.chunk.js","sourcesContent":["const API_URL = 'https://mate.academy/students-api/';\n\nexport const loadData = (url: string) => {\n  return fetch(`${API_URL}${url}`)\n    .then(response => {\n      return response.ok\n        ? response.json()\n        : Promise.reject(new Error('Failed to load data'));\n    });\n};\n\nexport const loadTodos = () => loadData('/todos');\nexport const loadUsers = (userId: number) => loadData(`/users/${userId}`);\n","import React from 'react';\n\ntype Props = {\n  onHandleChange: (event: InputOrSelect) => void;\n  filteredQuery: string;\n  selectedQuery: string;\n};\n\nexport const TodoForm: React.FC<Props> = (props) => {\n  const { onHandleChange, filteredQuery, selectedQuery } = props;\n\n  return (\n    <div className=\"TodoList__form\">\n      <label className=\"TodoList__label\" htmlFor=\"filterTitle\">\n        <input\n          type=\"text\"\n          name=\"filteredQuery\"\n          id=\"filterTitle\"\n          className=\"form-control\"\n          placeholder=\"find title\"\n          value={filteredQuery}\n          onChange={onHandleChange}\n        />\n      </label>\n\n      <label className=\"TodoList__label\" htmlFor=\"selectedTodo\">\n        <select\n          name=\"selectedQuery\"\n          id=\"selectedTodo\"\n          value={selectedQuery}\n          className=\"form-control\"\n          onChange={onHandleChange}\n        >\n          <option value=\"all\">All</option>\n          <option value=\"active\">Active</option>\n          <option value=\"completed\">Completed</option>\n        </select>\n      </label>\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { TodoForm } from '../TodoForm';\nimport './TodoList.scss';\n\ntype Props = {\n  todos: Todo[];\n  onUsersId: (userId: number) => void;\n};\n\ntype State = {\n  filteredQuery: string,\n  selectedQuery: string,\n};\n\nexport class TodoList extends React.Component<Props, State> {\n  state: State = {\n    filteredQuery: '',\n    selectedQuery: '',\n  };\n\n  handleChange = (event: InputOrSelect) => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value } as Pick<State, keyof State>);\n  };\n\n  getFilteredTodos = () => {\n    const { todos } = this.props;\n    const query = this.state.filteredQuery.toLowerCase();\n\n    switch (this.state.selectedQuery) {\n      case 'all':\n        return todos\n          .filter(todo => todo.title.toLowerCase().includes(query));\n\n      case 'active':\n        return todos\n          .filter(todo => !todo.completed\n          && todo.title.toLowerCase().includes(query));\n\n      case 'completed':\n        return todos\n          .filter(todo => todo.completed\n          && todo.title.toLowerCase().includes(query));\n\n      default:\n        return todos\n          .filter(todo => todo.title.toLowerCase().includes(query));\n    }\n  };\n\n  render() {\n    const { filteredQuery, selectedQuery } = this.state;\n    const { onUsersId } = this.props;\n    const filtredTodos = this.getFilteredTodos();\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n\n        <TodoForm\n          onHandleChange={this.handleChange}\n          filteredQuery={filteredQuery}\n          selectedQuery={selectedQuery}\n        />\n\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {filtredTodos.map(todo => (\n              <li\n                key={todo.id}\n                className={classNames(\n                  'TodoList__item',\n                  {\n                    'TodoList__item--checked': todo.completed,\n                    'TodoList__item--unchecked': !todo.completed,\n                  },\n                )}\n              >\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={todo.completed}\n                    readOnly\n                  />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className=\"TodoList__user-button button\"\n                  type=\"button\"\n                  onClick={() => onUsersId(todo.userId)}\n                >\n                  {`User:${todo.userId}`}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { loadUsers } from '../../api/api';\nimport './CurrentUser.scss';\n\ntype State = {\n  user: User | null,\n  errorMessage: string,\n};\n\ntype Props = {\n  userId: number,\n  onClearUserId: () => void,\n};\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: null,\n    errorMessage: '',\n  };\n\n  componentDidMount() {\n    this.getLoadedData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.userId !== this.props.userId) {\n      this.getLoadedData();\n    }\n  }\n\n  async getLoadedData() {\n    try {\n      const { userId } = this.props;\n      const user = await loadUsers(userId);\n\n      this.setState(() => ({ user, errorMessage: '' }));\n    } catch (error) {\n      const e = error as Error;\n\n      this.setState({ errorMessage: e.message });\n    }\n  }\n\n  render() {\n    const { user, errorMessage } = this.state;\n    const { onClearUserId } = this.props;\n\n    if (!user) {\n      return (\n        <div>\n          {errorMessage}\n        </div>\n      );\n    }\n\n    return (\n      <>\n        {!errorMessage ? (\n          <div className=\"CurrentUser\">\n            <h2 className=\"CurrentUser__title\">\n              <span>{`Selected user: ${user.id}`}</span>\n            </h2>\n\n            <h3 className=\"CurrentUser__name\">{user.name}</h3>\n            <p className=\"CurrentUser__email\">{user.email}</p>\n            <p className=\"CurrentUser__phone\">{user.phone}</p>\n            <button\n              type=\"button\"\n              className=\"TodoList__user-button--selected button\"\n              onClick={() => onClearUserId()}\n            >\n              Clear\n            </button>\n          </div>\n        ) : errorMessage}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport { loadTodos } from './api/api';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n  errorMessage: string;\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n    errorMessage: '',\n  };\n\n  componentDidMount() {\n    this.getLoadedTodos();\n  }\n\n  async getLoadedTodos() {\n    try {\n      const todos: Todo[] = await loadTodos();\n\n      this.setState({ todos, errorMessage: '' });\n    } catch (error) {\n      const e = error as Error;\n\n      this.setState({ errorMessage: e.message });\n    }\n  }\n\n  setUsersId = (userId: number) => {\n    this.setState(() => ({ selectedUserId: userId }));\n  };\n\n  clearUserId = () => {\n    this.setState({ selectedUserId: 0 });\n  };\n\n  render() {\n    const { selectedUserId, todos, errorMessage } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          {!errorMessage ? (\n            <TodoList\n              todos={todos}\n              onUsersId={this.setUsersId}\n            />\n          ) : errorMessage}\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                onClearUserId={this.clearUserId}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}